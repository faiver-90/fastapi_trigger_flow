# trigger_flow

## Общая идея

trigger_flow — это веб-сервис, который позволяет пользователям подключать внешние API, отслеживать события и настраивать уведомления.  
Проект подходит для автоматизации обработки данных и гибкой настройки уведомлений по заданным условиям.

---

## Функциональные возможности

### Аутентификация и авторизация

- Регистрация и вход (JWT-токены, сессии)
- Роли и права доступа

### Источники данных

- CRUD API для добавления источников
- Шифрование токенов
- Проверка связей

### Подписки и триггеры

- CRUD для триггеров
- Настройка условий (например, температура > 25)
- Гибкие расписания

### Уведомления

- Email через SMTP
- Telegram Bot API
- Webhook
- Логирование отправок

### Дашборд

- Список триггеров и уведомлений
- CRUD для подписок

---

## Нефункциональные требования

- PostgreSQL
- Docker и docker-compose
- Логирование (файлы/база)
- Конфигурация через .env
- Swagger/OpenAPI для документации
- Покрытие тестами (Pytest, >60%)
- CI/CD (GitHub Actions или GitLab CI)
- Статический анализ кода (black, flake8)

---

## Этапы разработки

### Этап 1: Проектирование и подготовка окружения

- Архитектура, ER-диаграммы
- Настройка репозитория и CI/CD пайплайнов
- Docker-окружение
- Инициализация проекта Django или FastAPI

### Этап 2: Базовая авторизация и CRUD

- JWT/сессии
- Пользователи и роли
- CRUD для источников данных

### Этап 3: Интеграция внешних API

- Выбор внешних API (например, OpenWeather, GitHub)
- Асинхронные запросы
- Хранение и обновление данных

### Этап 4: Настройка триггеров и подписок

- Интерфейс условий и правил
- Расписание через APScheduler или Celery
- Логика срабатывания триггеров

### Этап 5: Отправка уведомлений

- Email, Telegram, Webhook
- Логирование событий

### Этап 6: Расширение и оптимизация

- Кеширование (Redis)
- Очереди задач (Celery)
- Покрытие тестами
- Swagger-документация

### Этап 7: Завершение и защита

- Подготовка финальной документации

---

## Запуск проекта

```bash
docker-compose up --build 
